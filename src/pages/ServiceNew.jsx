import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{api}from'../lib/api';import{useAuth}from'../context/AuthContext';export default function ServiceNew(){const[name,setName]=useState('');const[description,setDescription]=useState('');const[category,setCategory]=useState('');const[price,setPrice]=useState('');const[error,setError]=useState('');const{token,user}=useAuth();const nav=useNavigate();const submit=async e=>{e.preventDefault();try{await api('/services',{method:'POST',token,body:{name,description,category,price:Number(price)}});nav('/services')}catch(err){setError(err.message)}};return(<div><h2>New Service</h2><div className='badge'>Signed in as: {user?.name} ({user?.role})</div>{error&&<div className='alert'>{error}</div>}<form onSubmit={submit}><input placeholder='Name' value={name} onChange={e=>setName(e.target.value)}/><input placeholder='Category' value={category} onChange={e=>setCategory(e.target.value)}/><textarea placeholder='Description' value={description} onChange={e=>setDescription(e.target.value)}/><input placeholder='Price' type='number' step='0.01' value={price} onChange={e=>setPrice(e.target.value)}/><button>Create</button></form></div>)}
